(()=>{"use strict";const e={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const r=new Uint8Array(16);function n(){if(!t&&(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(r)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));const c=function(t,r,c){if(e.randomUUID&&!r&&!t)return e.randomUUID();const i=(t=t||{}).random||(t.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,r){c=c||0;for(let e=0;e<16;++e)r[c+e]=i[e];return r}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(i)};function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=window.localStorage;document.addEventListener("DOMContentLoaded",(function(){p(u.getItem("TODOLIST")?JSON.parse(u.getItem("TODOLIST")):(u.setItem("TODOLIST",JSON.stringify([])),[]));var e=document.querySelector("#form"),t=document.querySelectorAll(".filter-btn"),r=document.querySelector(".delete-button_all"),n=document.querySelector(".control-panel"),o=document.querySelector(".hamburger"),i=document.querySelector(".close-hamburger"),s=document.querySelector(".overlay"),d="all";function m(){n.classList.remove("opened"),s.classList.remove("visible"),s.removeEventListener("click",m)}function p(e){0===e.length&&f(),e.forEach((function(e){S(e)}))}function f(){var e=document.querySelector("#tasks-list"),t=document.createElement("tr"),r=document.createElement("td");r.classList.add("centered"),r.setAttribute("colspan","4"),t.setAttribute("id","empty"),r.innerHTML='<span class="empty-placeholer">Nothing in the list</span>',t.append(r),e.append(t)}function y(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function v(e){var t=e.target.value;d=t;var r=JSON.parse(u.getItem("TODOLIST"));y(document.querySelector("#tasks-list")),p("all"!==t?r.filter((function(e){return e.priority===t})):r)}function O(e){var t,r,n,o=e.target.parentElement.parentElement.parentElement,c=o.getAttribute("data-id"),i=e.target.checked;t=c,r=i,n=JSON.parse(u.getItem("TODOLIST")).map((function(e){return t===e.id?a(a({},e),{},{isDone:r}):e})),u.setItem("TODOLIST",JSON.stringify(n)),i?(o.querySelector(".checkmark").classList.add("shown"),o.querySelector(".check-ico").classList.add("shown"),o.querySelector(".list-item__text").classList.add("done")):(o.querySelector(".checkmark").classList.remove("shown"),o.querySelector(".check-ico").classList.remove("shown"),o.querySelector(".list-item__text").classList.remove("done"))}function b(e){var t,r,n=document.querySelector("#tasks-list"),o=e.currentTarget.parentElement.parentElement,c=o.getAttribute("data-id");t=c,r=JSON.parse(u.getItem("TODOLIST")).filter((function(e){return e.id!==t})),u.setItem("TODOLIST",JSON.stringify(r)),o.remove(),0===n.childElementCount&&f()}function S(e){var t=document.querySelector("#tasks-list"),r=document.createElement("tr"),n=document.createElement("td"),o=document.createElement("td"),c=document.createElement("td"),i=document.createElement("td"),a=document.createElement("button"),s=document.createElement("label"),l=document.createElement("input"),u=document.createElement("span"),d=document.createElement("i");n.classList.add("td-checkbox"),s.classList.add("label-for-checkbox"),s.append(l),s.append(u),l.setAttribute("type","checkbox"),l.checked=e.isDone,l.classList.add("mark-checkbox"),u.classList.add("checkmark",e.isDone?"shown":void 0),d.classList.add("fa-solid","fa-check","check-ico",e.isDone?"shown":void 0),u.append(d),r.setAttribute("title",e.taskName),r.setAttribute("data-id",e.id),a.innerHTML='<i class="fa-regular fa-square-minus remove-ico"></i>',a.classList.add("delete-button");var m,p=[n,o,c,i];n.append(s),o.innerHTML='<span class="list-item__text '.concat(e.isDone?"done":null,'">').concat(e.taskName,"</span>"),c.innerHTML="".concat("high"===(m=e.priority)?'<i class="fa-solid fa-arrow-up high-priority priority"></i>':"medium"===m?'<i class="fa-solid fa-equals medium-priority priority"></i>':"low"===m?'<i class="fa-solid fa-arrow-down low-priority priority"></i>':"unknown"),i.append(a),r.append.apply(r,p),t.append(r),a.addEventListener("click",b),l.addEventListener("change",O)}t.forEach((function(e){e.addEventListener("click",v)})),i.addEventListener("click",m),o.addEventListener("click",(function(){n.classList.add("opened"),s.classList.add("visible"),s.addEventListener("click",m)})),r.addEventListener("click",(function(){var e=document.querySelector("#tasks-list");u.setItem("TODOLIST",JSON.stringify([])),y(e),f()})),e.addEventListener("submit",(function(e){e.preventDefault();var t,r,n,o,i,a,s=e.target,m={taskName:s.elements["input-text"].value,priority:s.elements["priority-select"].value,isDone:!1,id:c()};m.taskName&&(t=m,r=JSON.parse(u.getItem("TODOLIST")),n=[].concat(function(e){if(Array.isArray(e))return l(e)}(a=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]),u.setItem("TODOLIST",JSON.stringify(n)),"all"!==d&&d!==m.priority||(o=document.querySelector("#tasks-list"),(i=document.querySelector("#empty"))&&(o.classList.remove("centered"),i.remove()),S(m),s.querySelector("#input-text").value=""))}))}))})();